(this.webpackJsonpshop_cp=this.webpackJsonpshop_cp||[]).push([[7],{275:function(e,t,c){},276:function(e,t,c){},277:function(e,t,c){},278:function(e,t,c){},280:function(e,t,c){},330:function(e,t,c){"use strict";c.r(t);var a=c(52),n=c.n(a),r=c(53),s=c(54),i=c(0),o=c(23),l=c(22),u=(c(275),c(63)),d=(c(24),c(59)),j={createFavorite:function(e,t){return d.a.post(d.a.url.favoriteProducts+e,t).then((function(e){return e.data}))},getFavoriteByCustomerId:function(e){return d.a.get(d.a.url.favoriteProducts+e).then((function(e){return e.data}))}},b=(c(107),c(10)),h=Object(o.b)((function(e){return{AuthToken:e.AuthToken}}),null)((function(e){var t=e.product;e.AuthToken;return Object(b.jsx)("div",{style:{marginBottom:"2.5rem"},children:Object(b.jsxs)("div",{className:"product-item",children:[Object(b.jsxs)(l.b,{style:{textDecoration:"none"},to:{pathname:"/product/".concat(t.name.split(" ").join("+")),state:{productId:t.productId,proName:t.name,image:t.image,colorDefault:t.color_Name}},onClick:"false"===localStorage.getItem("isLoggedIn")?null:function(e){var c,a;"true"===localStorage.getItem("isLoggedIn")&&(c=localStorage.getItem("cusID"),a={ProductId:t.productId,NumberClick:1},j.createFavorite(c,a).then((function(e){})).catch((function(e){})))},children:[Object(b.jsx)("img",{src:t.image,alt:"product image",className:"img-thumbnail"}),Object(b.jsx)("div",{className:"productName",children:Object(b.jsx)("span",{children:t.name})})]}),Object(b.jsxs)("div",{className:"row rate-row",children:[Object(b.jsxs)("div",{className:"rating-inactive",children:[Object(b.jsx)("span",{className:"fa fa-star "}),Object(b.jsx)("span",{className:"fa fa-star "}),Object(b.jsx)("span",{className:"fa fa-star "}),Object(b.jsx)("span",{className:"fa fa-star "}),Object(b.jsx)("span",{className:"fa fa-star "})]}),Object(b.jsxs)("div",{className:"rating-active",style:{width:"".concat(13.4*t.averageStar,"px")},children:[Object(b.jsx)("span",{className:"fa fa-star "}),Object(b.jsx)("span",{className:"fa fa-star "}),Object(b.jsx)("span",{className:"fa fa-star "}),Object(b.jsx)("span",{className:"fa fa-star "}),Object(b.jsx)("span",{className:"fa fa-star "})]})]}),Object(b.jsxs)("div",{className:"row mx-0",children:[Object(b.jsx)("div",{className:"col-7 px-0",children:Object(b.jsxs)("span",{className:"priceProduct",children:[Object(u.a)(t.price)," vnd"]})}),Object(b.jsx)("div",{className:"col-5 px-0",children:Object(b.jsx)("span",{className:"colorName",style:{textTransform:"uppercase"},children:t.color_Name})})]})]},t.colorId)})})),f=(c(276),function(e){return Object(b.jsx)("div",{className:"container mt-0 pt-0  pb-0 pl-0 pr-0",children:e.children})}),m=(c(277),c(82)),p=c(72),O=c(3),x=(c(75),c(74)),g=c(87),v=c(304),N=(c(278),{getBrand:function(){return d.a.get(d.a.url.brands).then((function(e){return e.data}))}}),y={getColors:function(){return d.a.get(d.a.url.colors).then((function(e){return e.data}))}},k=(c(57),c(331)),w=c(337),I=Object(o.b)((function(e){return{products:e.ProductList,brands:e.BrandList}}),(function(e){return{fetchProducts:function(t){e(Object(p.a)(t))}}}))((function(e){var t=Object(i.useState)([]),c=Object(s.a)(t,2),a=c[0],o=c[1],l=Object(i.useState)([]),u=Object(s.a)(l,2),d=u[0],j=u[1],h=(e.products,Object(i.useState)(!1)),f=Object(s.a)(h,2),p=f[0],O=f[1],x=Object(i.useState)([]),g=Object(s.a)(x,2),v=g[0],I=g[1],T=Object(i.useState)({color_Name:[],brand:[],price:[]}),C=Object(s.a)(T,2),S=C[0],_=C[1],A=function(){var e=Object(r.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getBrand().then((function(e){return o(e)}));case 2:return e.next=4,y.getColors().then((function(e){return j(e)}));case 4:return e.next=6,m.a.getProducts().then((function(e){return I(e)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){A()}),[]);var B=function(t,c){switch(c){case"color":if(t.target.checked)S.color_Name.push(t.target.value);else for(var a=0;a<S.color_Name.length;a++)S.color_Name[a]==t.target.value&&S.color_Name.splice(a,1);break;case"brand":if(t.target.checked)S.brand.push(t.target.value);else for(var n=0;n<S.brand.length;n++)S.brand[n]==t.target.value&&S.brand.splice(n,1)}_(S);var r=function(e,t){var c=Object.keys(t);return e.filter((function(e){return c.every((function(c){return!t[c].length||("color_Name"==c?t[c].includes(e.color_Name):"brand"==c?t[c].includes(e.name.split(" ").splice(-1)[0]):void 0)}))}))}(v,S);e.fetchProducts(r)};return Object(b.jsx)(i.Fragment,{children:Object(b.jsx)(k.a,{className:"filter-table",defaultActiveKey:"0",style:{maxWidth:"260px"},children:Object(b.jsxs)(w.a,{children:[Object(b.jsx)(k.a.Toggle,{as:w.a.Header,eventKey:"0",style:{background:"#F5F5F5"},children:Object(b.jsxs)("h4",{children:[" ","L\u1ecdc s\u1ea3n ph\u1ea9m"," ",Object(b.jsx)("i",{style:{float:"right"},className:"fa-angle-down fa"})]})}),Object(b.jsx)(k.a.Collapse,{eventKey:"0",children:Object(b.jsxs)(w.a.Body,{style:{padding:"0"},children:[Object(b.jsx)(k.a,{defaultActiveKey:"0",children:Object(b.jsxs)(w.a,{style:{width:"100%",border:"0",marginBottom:"0"},children:[Object(b.jsxs)(k.a.Toggle,{as:w.a.Header,eventKey:"0",style:{border:"0"},children:[Object(b.jsx)("b",{children:"Th\u01b0\u01a1ng hi\u1ec7u: "}),Object(b.jsx)("i",{style:{float:"right"},className:"fa-angle-down fa"})]}),Object(b.jsx)(k.a.Collapse,{eventKey:"0",children:Object(b.jsx)(w.a.Body,{style:{paddingTop:"0",paddingBottom:"0"},children:Object(b.jsx)("ul",{className:"brand-list ",children:a.map((function(e,t){return Object(b.jsxs)("li",{className:"brand_item",children:[Object(b.jsx)("input",{value:e.name,defaultChecked:p,onChange:function(e){O(!p),B(e,"brand")},type:"checkbox",className:"mr-3"},t),e.name]},t)}))})})})]})}),Object(b.jsx)(k.a,{defaultActiveKey:"0",children:Object(b.jsxs)(w.a,{style:{width:"100%",borderLeft:"0",borderRight:"0",borderBottom:"0",marginBottom:"0"},children:[Object(b.jsxs)(k.a.Toggle,{as:w.a.Header,eventKey:"0",style:{border:"0"},children:[Object(b.jsx)("b",{children:"M\xe0u s\u1eafc: "}),Object(b.jsx)("i",{style:{float:"right"},className:"fa-angle-down fa"})]}),Object(b.jsx)(k.a.Collapse,{eventKey:"0",children:Object(b.jsx)(w.a.Body,{style:{paddingTop:"0",paddingBottom:"0"},children:Object(b.jsx)("ul",{className:"color-list",children:d.map((function(e,t){return Object(b.jsxs)("li",{className:"brand_item",children:[Object(b.jsx)("input",{value:e.name,defaultChecked:p,onChange:function(e){O(!p),B(e,"color")},type:"checkbox",className:"mr-3"},t),e.name]},t)}))})})})]})})]})})]})})})})),T=(c(280),Object(o.b)((function(e){return{AuthToken:e.AuthToken,favorites:e.FavoriteList}}),null)((function(e){var t=e.products,c=e.AuthToken,a=e.favorites,n=Object(i.useState)([]),r=Object(s.a)(n,2),o=r[0],d=r[1];return Object(i.useEffect)((function(){d(function(e,t){return e.filter((function(e){return t.includes(e.productId)}))}(t,a))}),[a]),Object(b.jsxs)("div",{className:"widget clearfix",style:{maxWidth:"300px"},children:[Object(b.jsx)("div",{className:"widget_title",children:Object(b.jsx)("h4",{children:"S\u1ea3n ph\u1ea9m g\u1ee3i \xfd "})}),!0===c.isLoggedIn?Object(b.jsx)("div",{children:o.map((function(e,t){return Object(b.jsx)("div",{className:"widget_content",children:Object(b.jsx)(l.b,{to:{pathname:"/product/".concat(e.name.split(" ").join("+")),state:{productId:e.productId,proName:e.name,image:e.image}},style:{textDecoration:"none"},children:Object(b.jsxs)("div",{className:"spost clearfix",children:[Object(b.jsx)("div",{className:"entry-image",children:Object(b.jsx)("img",{src:e.image})}),Object(b.jsxs)("div",{className:"entry-c",children:[Object(b.jsx)("div",{className:"entry-title",children:e.name}),Object(b.jsx)("ul",{className:"entry-meta",children:Object(b.jsxs)("li",{style:{color:"red"},children:[Object(u.a)(e.price)," \u0111"," "]})})]})]})})},t)}))}):null]})}))),C=c(2),S=c(281),_=c.n(S);t.default=Object(o.b)((function(e){return{products:e.ProductList,AuthToken:e.AuthToken,carts:e.CartList}}),(function(e){return{fetchProducts:function(t){e(Object(p.a)(t))},fetchCart:function(t){e(Object(x.a)(t))},fetchFavorites:function(t){e(function(e){return{type:O.c,favorites:e}}(t))}}}))((function(e){var t=e.products,c=e.carts,a=e.AuthToken,o=(e.brands,Object(i.useState)([])),l=Object(s.a)(o,2),u=(l[0],l[1],Object(i.useState)(!1)),d=Object(s.a)(u,2),p=(d[0],d[1],Object(i.useState)(1)),O=Object(s.a)(p,2),x=O[0],N=O[1],y=Object(i.useState)(10),k=Object(s.a)(y,2),w=k[0],S=(k[1],Object(i.useState)([])),A=Object(s.a)(S,2),B=(A[0],A[1],Object(C.h)()),F=function(){var t=Object(r.a)(n.a.mark((function t(){var c;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.getProducts();case 2:c=t.sent,e.fetchProducts(c),j.getFavoriteByCustomerId(a.cusID).then((function(t){console.log("res"+t),e.fetchFavorites(t)}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=(new g.a).withUrl("https://localhost:5001/hubs/shopshoe").withAutomaticReconnect().build();Object(i.useEffect)((function(){F(),P.start().then((function(e){console.log("result"),P.on("Add_Delete_Product",(function(){F()}))})).catch((function(e){return console.log("Connection failed: ",e)}))}),[]),Object(i.useEffect)((function(){j.getFavoriteByCustomerId(a.cusID).then((function(t){console.log(t),e.fetchFavorites(t)}))}),[]);for(var L=x*w,D=L-w,K=t.slice(D,L),E=[],R=1;R<=Math.ceil(t.length/w);R++)E.push(R);return setInterval(function(){for(var e=new Date,t=0;t<c.length;t++){var a=new Date(c[t].dateAdd);(e.getTime()-a.getTime())/6e4>10&&c.splice(t,1)}}(),10),Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"background-light ",children:[Object(b.jsxs)("div",{className:"row  mr-5",style:{marginLeft:"4.3em"},children:[Object(b.jsxs)("div",{className:"col-9 p-0",children:[Object(b.jsx)("h5",{style:{marginLeft:"3px"},children:"/"==B.pathname?"":B.pathname.split("/")[2].split("+").join(" ")}),Object(b.jsx)(f,{children:function(e){var t=null;return e.length>0&&(t=e.map((function(e,t){return Object(b.jsx)(h,{product:e},t)}))),t}(K)})]}),Object(b.jsxs)("div",{className:"col-3 p-0 my-2",children:[Object(b.jsx)(I,{products:t}),Object(b.jsx)(T,{products:t})]})]}),Object(b.jsx)(_.a,{pageId:"108181108126171",appId:"1194578134370274",htmlRef:"<REF_STRING>"}),Object(b.jsx)(v.a,{className:"paging",current:x,total:E.length,onPageChange:N})]})})}))},63:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var a=function(e){for(var t=e.toString(),c=[],a=0;a<t.length;a++)c.push(t[a]);for(var n=c.length-3;n>0;n-=3)c.splice(n,0,".");return c}}}]);
//# sourceMappingURL=7.7825a51c.chunk.js.map