{"version":3,"sources":["assets/icons/pd_policies_2.png","Components/Product/ProductDetail/Description/Description.js","api/ratingApi.js","Components/Product/ProductDetail/Rating/TotalRating.js","api/commentApi.js","assets/image/avatar-default.png","Components/Product/ProductDetail/Comment/Comment.js","Components/Product/ProductDetail/UserComment/UserComment.js","Components/Product/ProductDetail/ProductDetail.js","assets/icons/pd_policies_1.png","assets/icons/pd_policies_3.png","assets/icons/pd_policies_4.png","functions/formatMoney.js"],"names":["Description","props","description","className","dangerouslySetInnerHTML","__html","ratingApi","createRate","rate","api","post","url","ratings","then","res","data","getRating","productId","get","GetRatingByCustomerId","customerId","TotalRating","useState","star","setStar","loadRate","rates","oneStar","twoStar","threeStar","fourStar","fiveStar","average","totalStar","forEach","parseFloat","length","toFixed","calRate","catch","err","alert","connection","HubConnectionBuilder","withUrl","withAutomaticReconnect","build","useEffect","start","on","e","console","log","Row","Col","lg","style","width","marginBottom","border","marginLeft","commentApi","CreateComment","comment","comments","getComment","connect","state","AuthToken","showComments","setShowComments","text","setText","content","setContent","setComments","loadComment","a","details","setDetails","id","onClick","Header","as","dividing","total","commentChidrents","totalComment","Group","map","index","Avatar","height","marginRight","src","avatar","Content","Author","userName","Metadata","datePost","split","Text","Actions","disable","isLoggedIn","Action","position","indexOf","newDetails","slice","splice","toggleComments","commentChild","Form","reply","hidden","includes","marginTop","Input","onChange","target","value","Button","labelPosition","icon","primary","parentid","ProductId","CustomerId","cusID","userInfo","UserInfo","localStorage","getItem","onSubmit","event","preventDefault","image","jwt_decode","token","sub","readOnly","name","starCount","onStarClick","nextValue","placeholder","rows","required","backgroundColor","type","carts","CartList","dispatch","fetchCart","getNumberInCart","productDetail","setProductDetail","location","useLocation","getColor","setColor","imagePreview","setImgaePreview","borderChange","setBoderchange","colorDefault","setColorDefault","loadData","productApi","getProductById","colorDTOs","color","colorId","colorDTO","sizeDTOs","sizeDTO","color_Size_ProductId","colorSizeProductId","quantity","onClickBuy","cartApi","pushItem","customerid","color_size_productid","getItemCart","itemInCarts","toast","error","alt","formatMoney","price","filter","size","textAlign","sizeNumber","data-toggle","data-placement","title","to","disabled","sizeId","borderColor","colorName","data-target","href","display","pic2","data-original-title","fontSize","money","sMoney","toString","output","push"],"mappings":"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","file":"static/js/8.14b2fe2b.chunk.js","sourcesContent":["export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAhCAQAAAASL2HaAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAP+Hj8y/AAAAB3RJTUUH4QIcCBsUzDyXnwAAA3lJREFUSMeVlW1oW1UYx3/n3C7tKHakTFGHb+02GTiUXV/WrbI5g0wpuhcyGKOyL0vJWG4SNwmISFAHC4p5adfQTPCLUmkcmyKCNHWMKRPaTilbEefaD9L6Nr0dOHVpco8fblpz0zStz5d7eM75/+55/ue59wiqRFTOPMGzagst3IsGTKtxhjmdGl24ViwQu/7wixD3VwMzrt5oHohaNQChreo91gFF8SWfqytqShZFXXGt2MQeWgEYVgdSVxcBGEHxDhJL9Vlv9UxWvt7YKV7nMeCmOJTorwIIHucV4Ae5Pz5StQCi0gwSYwWIw4l0BSDkV73AV4UXTv5OjQhsk2dwA53J98sAoe1qCMmlhh2xGywRoU3qHE3MyqfjF0qAQJM2pu7jl9lHen9eSg4QftIaYgVT+Y1pUwNoe5tnQO7uHluOHNp+U808TpO2sU3UwUvri34QmXgOIOglgg4iI2LxCQBjUHicgLgMNgPwHMMSCreJTtHhOgZg+BhAB1A+a8TvXmQLavpFzgKX/jru6AO/23UNt8gkugxdDNojMHRtHmT10WJno66ZAevV1GUHIBjhBGa+NW2WxuSb02aZeR5rEGSrXZod0rEzD6hRW6JyAA16+bzlA5Url1cAhA4iZ4/tL88qA4Rb8IIWc9rhALCYafb+IsBEPFcLUCPCLcoHKlaZdwLMxQGWDzBTmZoANQroc44DyNI/yO/GB8QWgiXAsTtKJuYAj90+lg6YcxW7fLghn6kKCK+d/S7YASCzgLv+BBg6ERDZ+XUREJl0lRJFVJrnaedv0ZH4Yq59SjGRf9SWGD7R52wgr7ZmG03WjdQ5aR6lHVipPg3tgGSMfUwApsjMyUFEKhtoTUANqTOiEURov3qKQ8Dp2YO9fy7vSI114hsaGUp6QCb63Ye5COx17Vue/GCDzNLITaurZGK0UDzAdVCngs8vLfdqq/rVw0C4+9r8MfZMil3cQvKR0VlbHqi/+wN2gehOnrIzmv34+sfNY+zFJXZvXrXh/LeF6vIjD2ifsBP4cLprXJUM/m862E6WO4Gr6rXKCwyOri4EeJmVQM90KFuc7wPHBm+X72L78BMfc9H6XvsHuIsHlQcP9cCvHElmyzULLtfQdvUmW6tWcF2cJJGYcSZFtZWBVulVW8RD3EMdiik1KUbkZ4UL3beWd9D/K/4FoTM0QFoYTq0AAAAASUVORK5CYII=\"","import React from \"react\";\nimport './Description.css'\nconst Description = (props) => {\n  const { description } = props;\n  return (\n    <div className=\"description-list\">\n      <div className=\"container-fliud \">\n      <h3>Mô tả sản phẩm</h3>\n        <div >\n          <div dangerouslySetInnerHTML={{ __html: description }} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Description;\n","import api from './api';\r\n\r\nconst createRate = (rate) => api.post(api.url.ratings , rate).then(res =>res.data)\r\nconst getRating = (productId) => api.get(api.url.ratings + productId).then(res => res.data)\r\nconst GetRatingByCustomerId = (productId,customerId) => api.get(api.url.ratings + productId+\"/\"+customerId).then(res => res.data)\r\nconst ratingApi={\r\n    createRate,\r\n    getRating,\r\n    GetRatingByCustomerId\r\n}\r\nexport default ratingApi","import React, { useState, useEffect } from \"react\";\r\nimport \"./ratingStyle.css\";\r\nimport ratingApi from \"../../../../api/ratingApi\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { HubConnectionBuilder } from \"@microsoft/signalr\";\r\nimport { Row, Col } from \"reactstrap\";\r\nimport StarRatingComponent from \"react-star-rating-component\";\r\n\r\nconst TotalRating = (props) => {\r\n  const [star, setStar] = useState({});\r\n  // calculator rating\r\n  const calRate = (rates) => {\r\n    let star = {\r\n      oneStar: 0,\r\n      twoStar: 0,\r\n      threeStar: 0,\r\n      fourStar: 0,\r\n      fiveStar: 0,\r\n      average: 0,\r\n      totalStar: 0,\r\n    };\r\n    rates.forEach((rate) => {\r\n      switch (rate.star) {\r\n        case 1:\r\n          star.oneStar++;\r\n          break;\r\n        case 2:\r\n          star.twoStar++;\r\n          break;\r\n        case 3:\r\n          star.threeStar++;\r\n          break;\r\n        case 4:\r\n          star.fourStar++;\r\n          break;\r\n        default:\r\n          star.fiveStar++;\r\n          break;\r\n      }\r\n      star.average = parseFloat(\r\n        (\r\n          (star.oneStar +\r\n            star.twoStar * 2 +\r\n            star.threeStar * 3 +\r\n            star.fourStar * 4 +\r\n            star.fiveStar * 5) /\r\n          rates.length\r\n        ).toFixed(1)\r\n      );\r\n      star.totalStar = rates.length;\r\n    });\r\n    return star;\r\n  };\r\n\r\n  const loadRate = () => {\r\n    ratingApi\r\n      .getRating(props.productId)\r\n      .then((res) => {\r\n        setStar(calRate(res));\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n  const connection = new HubConnectionBuilder()\r\n    .withUrl(\"https://localhost:5001/hubs/shopshoe\")\r\n    .withAutomaticReconnect()\r\n    .build();\r\n\r\n  useEffect(() => {\r\n    loadRate();\r\n    connection\r\n      .start()\r\n      .then((res) => {\r\n        connection.on(\"Update_Rating\", () => {\r\n          loadRate();\r\n        });\r\n      })\r\n      .catch((e) => console.log(\"Connection failed: \", e));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"rating-container\">\r\n      <Row>\r\n        <Col lg=\"5\">\r\n          <p className=\"heading\">Tổng đánh giá</p>\r\n        </Col>\r\n        <Col lg=\"7\" >\r\n          <div className=\"star-rating\">\r\n            <div className=\"star-inactive\">\r\n              <span className=\"fa fa-star size\"></span>\r\n              <span className=\"fa fa-star size\"></span>\r\n              <span className=\"fa fa-star size\"></span>\r\n              <span className=\"fa fa-star size\"></span>\r\n              <span className=\"fa fa-star size\"></span>\r\n            </div>\r\n            <div\r\n              className=\"star-active\"\r\n              style={{ width: `${2 * star.average}em` }}\r\n            >\r\n              <span className=\"fa fa-star size\"></span>\r\n              <span className=\"fa fa-star size\"></span>\r\n              <span className=\"fa fa-star size\"></span>\r\n              <span className=\"fa fa-star size\"></span>\r\n              <span className=\"fa fa-star size\"></span>\r\n            </div>\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n      <p style={{ marginBottom: \"0px\" }}>\r\n        {star.average} sao trung bình dựa trên {star.totalStar} đánh giá.\r\n      </p>\r\n\r\n      <hr style={{ border: \"2px solid #f1f1f1\" }} className=\"my-0\" />\r\n      <div className=\"row\" style={{ marginLeft: \"1px\" }}>\r\n        <div className=\"side\">\r\n          <div>5 sao</div>\r\n        </div>\r\n        <div className=\"middle\">\r\n          <div className=\"bar-container\">\r\n            <div\r\n              className=\"bar-5\"\r\n              style={{ width: `${(star.fiveStar / star.totalStar) * 100}%` }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"side right\">\r\n          <div>{star.fiveStar}</div>\r\n        </div>\r\n        <div className=\"side\">\r\n          <div>4 sao</div>\r\n        </div>\r\n        <div className=\"middle\">\r\n          <div className=\"bar-container\">\r\n            <div\r\n              className=\"bar-4\"\r\n              style={{ width: `${(star.fourStar / star.totalStar) * 100}%` }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"side right\">\r\n          <div>{star.fourStar}</div>\r\n        </div>\r\n        <div className=\"side\">\r\n          <div>3 sao</div>\r\n        </div>\r\n        <div className=\"middle\">\r\n          <div className=\"bar-container\">\r\n            <div\r\n              className=\"bar-3\"\r\n              style={{ width: `${(star.threeStar / star.totalStar) * 100}%` }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"side right\">\r\n          <div>{star.threeStar}</div>\r\n        </div>\r\n        <div className=\"side\">\r\n          <div>2 sao</div>\r\n        </div>\r\n        <div className=\"middle\">\r\n          <div className=\"bar-container\">\r\n            <div\r\n              className=\"bar-2\"\r\n              style={{ width: `${(star.twoStar / star.totalStar) * 100}%` }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"side right\">\r\n          <div>{star.twoStar}</div>\r\n        </div>\r\n        <div className=\"side\">\r\n          <div>1 sao</div>\r\n        </div>\r\n        <div className=\"middle\">\r\n          <div className=\"bar-container\">\r\n            <div\r\n              className=\"bar-1\"\r\n              style={{ width: `${(star.oneStar / star.totalStar) * 100}%` }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"side right\">\r\n          <div>{star.oneStar}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TotalRating;\r\n","import api from './api';\r\n\r\nconst CreateComment = (comment) => api.post(api.url.comments , comment).then(res =>res.data)\r\nconst getComment = (productId) => api.get(api.url.comments+productId).then(res =>res.data)\r\n\r\n\r\nconst commentApi={\r\n    CreateComment,\r\n    getComment\r\n}\r\nexport default commentApi","export default __webpack_public_path__ + \"static/media/avatar-default.0c07a2e4.png\";","import React, { useState, useEffect } from \"react\";\r\nimport \"./Comment.css\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport TotalRating from \"../Rating/TotalRating\";\r\nimport ImageAvatar from \"../../../../assets/image/avatar-default.png\";\r\nimport ratingApi from \"./../../../../api/ratingApi\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport commentApi from \"./../../../../api/commentApi\";\r\nimport { HubConnectionBuilder } from \"@microsoft/signalr\";\r\nimport { Button, Comment, Form, Header } from \"semantic-ui-react\";\r\nimport \"semantic-ui-css/semantic.min.css\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst CommentBox = (props) => {\r\n  const { AuthToken, productId } = props;\r\n  const [showComments, setShowComments] = useState(true);\r\n  const [text, setText] = useState(\"Hiện bình luận\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [comments, setComments] = useState([]);\r\n  const loadComment = () => {\r\n    commentApi\r\n      .getComment(props.productId)\r\n      .then((res) => {\r\n        setComments(res);\r\n      })\r\n      .catch((err) => alert(err));\r\n  };\r\n\r\n  const connection = new HubConnectionBuilder()\r\n    .withUrl(\"https://localhost:5001/hubs/shopshoe\")\r\n    .withAutomaticReconnect()\r\n    .build();\r\n\r\n  useEffect(async () => {\r\n    loadComment();\r\n    await connection\r\n      .start()\r\n      .then((res) => {\r\n        connection.on(\"Add_Comment\", () => {\r\n          loadComment();\r\n        });\r\n      })\r\n      .catch((e) => console.log(\"Connection failed: \", e));\r\n  }, []);\r\n\r\n  const handleOnclickShow = (e) => {\r\n    setShowComments(!showComments);\r\n    if (text == \"Hiện bình luận\") setText(\"Ẩn bình luận\");\r\n    else setText(\"Hiện bình luận\");\r\n  };\r\n\r\n  const [details, setDetails] = useState([]);\r\n  const toggleComments = (index) => {\r\n    console.log(index);\r\n    const position = details.indexOf(index);\r\n    let newDetails = details.slice();\r\n    if (position !== -1) {\r\n      newDetails.splice(position, 1);\r\n    } else {\r\n      newDetails = [...details, index];\r\n    }\r\n    setDetails(newDetails);\r\n  };\r\n  const handleReply = (parentid) => {\r\n    console.log(\"productId\" + productId);\r\n    console.log(\"parentid\" + parentid);\r\n    commentApi\r\n      .CreateComment({\r\n        content,\r\n        ProductId: productId,\r\n        CustomerId: AuthToken.cusID,\r\n        parentid: parentid,\r\n      })\r\n      .then((res) => {})\r\n      .catch((err) => alert(err));\r\n  };\r\n  const totalComment = () => {\r\n    var total = comments.length;\r\n    console.log(comments);\r\n    comments.forEach((comment) => {\r\n      total += comment.commentChidrents.length;\r\n    });\r\n    return total;\r\n  };\r\n  return (\r\n    <div className=\"comment-box\">\r\n      <button id=\"comment-reveal\" onClick={handleOnclickShow}>\r\n        {text}\r\n      </button>\r\n      <Header as=\"h3\" dividing>\r\n        {totalComment()} Comments\r\n      </Header>\r\n      {showComments == true ? (\r\n        <div>\r\n          <Comment.Group className=\"comments-ui\">\r\n            {comments.map((comment, index) => (\r\n              <Comment key={comment.id}>\r\n                <Comment.Avatar\r\n                  style={{\r\n                    width: \"45px\",\r\n                    height: \"45px\",\r\n                    marginRight: \"10px\",\r\n                  }}\r\n                  src={comment.avatar}\r\n                />\r\n                <Comment.Content>\r\n                  <Comment.Author as=\"a\">{comment.userName}</Comment.Author>\r\n                  <Comment.Metadata>\r\n                    <div> {comment.datePost.split(\" \")[0]}</div>\r\n                  </Comment.Metadata>\r\n                  <Comment.Text>{comment.content}</Comment.Text>\r\n                  <Comment.Actions disable={AuthToken.isLoggedIn}>\r\n                    <Comment.Action onClick={(e) => toggleComments(index)}>\r\n                      Reply\r\n                    </Comment.Action>\r\n                  </Comment.Actions>\r\n                </Comment.Content>\r\n                {/* {comment.commentChidrents.length > 0 ? ( */}\r\n                <Comment.Group>\r\n                  {comment.commentChidrents.map((commentChild) => (\r\n                    <Comment\r\n                      key={commentChild.id}\r\n                      style={{ marginLeft: \"20px\" }}\r\n                    >\r\n                      <Comment.Avatar\r\n                        style={{\r\n                          width: \"45px\",\r\n                          height: \"45px\",\r\n                          marginRight: \"10px\",\r\n                        }}\r\n                        src={commentChild.avatar}\r\n                      />\r\n                      <Comment.Content>\r\n                        <Comment.Author as=\"a\">\r\n                          {comment.userName}\r\n                        </Comment.Author>\r\n                        <Comment.Metadata>\r\n                          <div> {commentChild.datePost.split(\" \")[0]}</div>\r\n                        </Comment.Metadata>\r\n                        <Comment.Text>{commentChild.content}</Comment.Text>\r\n                        <Comment.Actions>\r\n                          {/* <Comment.Action>Reply</Comment.Action> */}\r\n                        </Comment.Actions>\r\n                      </Comment.Content>\r\n                    </Comment>\r\n                  ))}\r\n                  <Form\r\n                    reply\r\n                    hidden={!details.includes(index) || !AuthToken.isLoggedIn}\r\n                    style={{ marginTop: \"20px\", marginLeft: \"20px\" }}\r\n                  >\r\n                    <Form.Input onChange={(e) => setContent(e.target.value)} />\r\n                    <Button\r\n                      content=\"Đăng bình luận\"\r\n                      labelPosition=\"left\"\r\n                      icon=\"send\"\r\n                      primary\r\n                      onClick={(e) => handleReply(comment.id)}\r\n                    />\r\n                  </Form>\r\n                </Comment.Group>\r\n                {/* ) : null} */}\r\n              </Comment>\r\n            ))}\r\n          </Comment.Group>\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    AuthToken: state.AuthToken,\r\n  };\r\n};\r\nexport default connect(mapStateToProps)(CommentBox);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./UserComment.css\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\nimport ImageAvatar from \"../../../../assets/image/avatar-default.png\";\r\nimport ratingApi from \"./../../../../api/ratingApi\";\r\nimport commentApi from \"./../../../../api/commentApi\";\r\nimport { HubConnectionBuilder } from \"@microsoft/signalr\";\r\nimport { ConsoleLogger } from \"@microsoft/signalr/dist/esm/Utils\";\r\nimport StarRatingComponent from \"react-star-rating-component\";\r\nimport { connect } from 'react-redux';\r\n\r\nconst UserComment = (props) => {\r\n  const {userInfo,AuthToken}=props;\r\n  console.log(userInfo)\r\n  const [star, setStar] = useState();\r\n  const [content, setContent] = useState(\"\");\r\n  const ratingChanged = (nextValue) => {\r\n    if(localStorage.getItem(\"isLoggedIn\") === 'true'){\r\n    ratingApi\r\n      .createRate({\r\n        ProductId: props.productId,\r\n        CustomerId: localStorage.getItem(\"cusID\") ,\r\n        star: nextValue,\r\n      })\r\n      .then((res) => {})\r\n      .catch((err) => alert(err));\r\n    }\r\n    setStar(nextValue);\r\n  };\r\n  const loadRateUser = () => {\r\n    if(localStorage.getItem(\"isLoggedIn\") === 'true'){\r\n    ratingApi\r\n      .GetRatingByCustomerId(\r\n        props.productId,\r\n        localStorage.getItem(\"cusID\") \r\n      )\r\n      .then((res) => {\r\n        setStar(res.star);\r\n      })\r\n      .catch((err) => alert(err));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadRateUser();\r\n  }, [star]);\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault(); // prevents page from reloading on submit\r\n    commentApi\r\n      .CreateComment({\r\n        content,\r\n        ProductId: props.productId,\r\n        CustomerId: localStorage.getItem(\"cusID\") ,\r\n        parentid: 0,\r\n      })\r\n      .then((res) => {})\r\n      .catch((err) => alert(err));\r\n  };\r\n  return (\r\n    <div className=\"comment-box\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"comment-form-fields\">\r\n          <img\r\n            src={userInfo.image}\r\n            style={{ width: \"45px\", height: \"45px\", marginRight: \"10px\"}}\r\n          />\r\n\r\n          <input\r\n            value={jwt_decode(AuthToken.token).sub[0]}\r\n            readOnly\r\n          ></input>\r\n          <div className=\"star-user-rating\">\r\n            <StarRatingComponent\r\n              name=\"rate\"\r\n              starCount={5}\r\n              value={star}\r\n              onStarClick={ratingChanged}\r\n            />\r\n          </div>\r\n          <br />\r\n          <textarea\r\n            placeholder=\"Bình luận của bạn ...\"\r\n            rows=\"3\"\r\n            required\r\n            onChange={(e) => setContent(e.target.value)}\r\n          ></textarea>\r\n        </div>\r\n        <div className=\"comment-form-actions\">\r\n          <button style={{ backgroundColor: \"greenyellow\" }} type=\"submit\">\r\n            Đăng bình luận\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userInfo: state.UserInfo,\r\n    AuthToken: state.AuthToken\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(UserComment);\r\n\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"./productDetail.css\";\r\nimport productApi from \"../../../api/productApi\";\r\nimport cartApi from \"./../../../api/cartApi\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport pic1 from \"../../../assets/icons/pd_policies_1.png\";\r\nimport pic2 from \"../../../assets/icons/pd_policies_2.png\";\r\nimport pic3 from \"../../../assets/icons/pd_policies_3.png\";\r\nimport pic4 from \"../../../assets/icons/pd_policies_4.png\";\r\nimport { getNumberInCart } from \"../../../actions/cartAction\";\r\nimport { connect } from \"react-redux\";\r\nimport Description from \"./Description/Description\";\r\nimport { formatMoney } from \"./../../../functions/formatMoney\";\r\nimport CommentBox from \"./Comment/Comment\";\r\nimport { ProName } from \"../../../actions/productAction\";\r\nimport UserComment from \"./UserComment/UserComment\";\r\nimport TotalRating from \"./Rating/TotalRating\";\r\n\r\nconst ProductDetail = (props) => {\r\n  const {carts}=props;\r\n  const [productDetail, setProductDetail] = useState(null);\r\n  const location = useLocation();\r\n  const [getColor, setColor] = useState(null);\r\n  const [imagePreview, setImgaePreview] = useState(null);\r\n  const [borderChange, setBoderchange] = useState(\"solid\");\r\n  const [loginRequire, setLoginRequire] = useState(true);\r\n  const [colorDefault, setColorDefault] = useState(location.state.colorDefault);\r\n  const [cartQuantity, setCartQuantity] = useState(null);\r\n  console.log(carts)\r\n  const loadData = async () => {\r\n    // const cartList = JSON.parse(localStorage.getItem(\"cartList\")) || [];\r\n    await productApi.getProductById(location.state.productId).then((data) => {\r\n      setColor(data.colorDTOs.map((color) => color.colorId)[0]);\r\n      setImgaePreview(location.state.image);\r\n      data.colorDTOs.forEach((colorDTO) => {\r\n        console.log(colorDTO.name)\r\n        colorDTO.sizeDTOs.forEach((sizeDTO) => {\r\n          console.log(\"sizeDTO.color_Size_ProductId\"+sizeDTO.color_Size_ProductId)\r\n          for (let index = 0; index < carts.length; index++) {\r\n            console.log(\"carts[index].color_Size_ProductId\"+carts[index].colorSizeProductId)\r\n            if (\r\n              sizeDTO.color_Size_ProductId ==\r\n              carts[index].colorSizeProductId\r\n            ) {\r\n              sizeDTO.quantity -= carts[index].quantity;\r\n            }\r\n          }\r\n        });\r\n      });\r\n      setProductDetail(data);\r\n    });\r\n    \r\n    // if (localStorage.getItem(\"isLoggedIn\") === \"true\") {\r\n    //   setLoginRequire(false);\r\n    // } else {\r\n    //   setLoginRequire(true);\r\n    // }\r\n  };\r\n\r\n  const updateCartInRedux = async () => {\r\n    if (localStorage.getItem(\"isLoggedIn\") === \"true\") {\r\n      const itemInCarts = await cartApi.getItemCart(\r\n        localStorage.getItem(\"cusID\")\r\n      );\r\n      props.fetchCart(itemInCarts);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [carts]);\r\n  const chooseColor = (id, image, colorName) => {\r\n    setColor(id);\r\n    setColorDefault(colorName);\r\n    setImgaePreview(image);\r\n    setBoderchange(\"red\");\r\n  };\r\n\r\n  // const quantityCheck = (dbquantity, size) => {\r\n  //   const value =\r\n  //     JSON.parse(localStorage.getItem(\"cartList\"))\r\n  //       .filter(\r\n  //         (pro) =>\r\n  //           pro.id === location.state.productId &&\r\n  //           pro.color_Name === colorDefault &&\r\n  //           pro.size_Number === size\r\n  //       )\r\n  //       .map((q) => q.quantity) || 0;\r\n  //   const currentQuantity = dbquantity - value;\r\n\r\n  //   return currentQuantity;\r\n  // };\r\n  // const onClickBuy2 = async (\r\n  //   event,\r\n  //   prodName,\r\n  //   size,\r\n  //   price,\r\n  //   quantity,\r\n  //   cImamge,\r\n  //   colosizeID\r\n  // ) => {\r\n  //   event.preventDefault();\r\n  //   const cartList = JSON.parse(localStorage.getItem(\"cartList\")) || [];\r\n  //   if (quantity > 0) {\r\n  //     if (\r\n  //       cartList.filter(\r\n  //         (pro) =>\r\n  //           pro.id === location.state.productId &&\r\n  //           pro.color_Name == colorDefault &&\r\n  //           pro.size_Number == size\r\n  //       ).length >= 1\r\n  //     ) {\r\n  //       var n = cartList\r\n  //         .filter(\r\n  //           (pro) =>\r\n  //             pro.id === location.state.productId &&\r\n  //             pro.color_Name == colorDefault &&\r\n  //             pro.size_Number == size\r\n  //         )\r\n  //         .map((num) => num.quantity);\r\n  //       const indexfind = cartList.findIndex(\r\n  //         (obj) =>\r\n  //           obj.id === location.state.productId &&\r\n  //           obj.color_Name == colorDefault &&\r\n  //           obj.size_Number == size\r\n  //       );\r\n  //       n++;\r\n  //       cartList[indexfind] = {\r\n  //         id: location.state.productId,\r\n  //         product_Name: prodName,\r\n  //         size_Number: size,\r\n  //         price: price,\r\n  //         quantity: n,\r\n  //         color_Name: colorDefault,\r\n  //         image: cImamge,\r\n  //         color_Size_ProductId: colosizeID,\r\n  //       };\r\n\r\n  //       console.log(\"Update\");\r\n  //     } else {\r\n  //       console.log(\"New\");\r\n  //       cartList.push({\r\n  //         id: location.state.productId,\r\n  //         product_Name: prodName,\r\n  //         size_Number: size,\r\n  //         price: price,\r\n  //         quantity: 1,\r\n  //         color_Name: colorDefault,\r\n  //         image: cImamge,\r\n  //         color_Size_ProductId: colosizeID,\r\n  //       });\r\n  //       updateCartInRedux();\r\n  //     }\r\n  //     // // add item into cart\r\n  //     // await cartApi.pushItem({\r\n  //     //   customerid: jwt_decode(localStorage.getItem(\"usertoken\")).sub[1],\r\n  //     //   color_size_productid: id,\r\n  //     //   quantity: 1,\r\n  //     // });\r\n  //     // //update shoppingCart into redux\r\n  //     // var itemInCarts = await cartApi.getItemCart(\r\n  //     //   jwt_decode(localStorage.getItem(\"usertoken\")).sub[1]\r\n  //     // );\r\n  //     // props.fetchCart(itemInCarts);\r\n\r\n  //     localStorage.setItem(\"cartList\", JSON.stringify(cartList));\r\n  //   } else {\r\n  //     toast.error(\"Sản phẩm hết hàng\");\r\n  //   }\r\n  // };\r\n\r\n  const onClickBuy = async (event, id, quantity) => {\r\n    event.preventDefault();\r\n    if (quantity > 0) {\r\n      // add item into cart\r\n      await cartApi.pushItem({\r\n        customerid: jwt_decode(localStorage.getItem(\"usertoken\")).sub[1],\r\n        color_size_productid: id,\r\n        quantity: 1,\r\n      });\r\n      //update shoppingCart into redux\r\n      var itemInCarts = await cartApi.getItemCart(\r\n        jwt_decode(localStorage.getItem(\"usertoken\")).sub[1]\r\n      );\r\n      props.fetchCart(itemInCarts);\r\n    } else {\r\n      toast.error(\"Sản phẩm hết hàng\");\r\n    }\r\n\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ToastContainer />\r\n      {productDetail !== null ? (\r\n        <div className=\"card\">\r\n          <div\r\n            className=\"container-fliud \"\r\n            style={{ marginLeft: \"1.8em\", marginRight: \"2em\" }}\r\n          >\r\n            <div className=\"wrapper row\">\r\n              <div className=\"preview col-md-5\">\r\n                <div className=\"preview-pic tab-content\">\r\n                  <div className=\"tab-pane active\" id=\"pic-1\">\r\n                    <img src={imagePreview} alt=\"mainProduct\" />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"details col-md-4\">\r\n                <h4 className=\"product-title\">{productDetail.name}</h4>\r\n                <h4 className=\"price-detail\">\r\n                  {formatMoney(productDetail.price)} Đ\r\n                </h4>\r\n                <table className=\"table table-condensed\">\r\n                  <tbody>\r\n                    {productDetail.colorDTOs\r\n                      .filter((color) => color.colorId === getColor)\r\n                      .map((color, index) =>\r\n                        color.sizeDTOs.map((size) => (\r\n                          <tr key={size.sizeId}>\r\n                            <td>\r\n                              <div className=\"load-variant-product\">\r\n                                <div\r\n                                  className=\"vartiants-product\"\r\n                                  style={{ textAlign: \"left\" }}\r\n                                >\r\n                                  <span>{color.name}</span> /{\" \"}\r\n                                  <span>{size.sizeNumber}</span>\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                            <td\r\n                              className=\"text-right\"\r\n                              data-toggle=\"tooltip\"\r\n                              data-placement=\"right\"\r\n                              title=\"\"\r\n                            >\r\n                              <div\r\n                                className=\"product-status\"\r\n                                title=\"\"\r\n                                style={{ color: \"blue\" }}\r\n                              >\r\n                                <i className=\"fa fa-plus-circle\"></i> {}\r\n                                {/* <span>\r\n                                  {localStorage.getItem(\"cartList\") !== null\r\n                                    ? quantityCheck(\r\n                                        size.quantity,\r\n                                        size.sizeNumber\r\n                                      )\r\n                                    : size.quantity}{\" \"}\r\n                                  còn\r\n                                </span> */}\r\n                                <span>{size.quantity} còn</span>\r\n                              </div>\r\n                            </td>\r\n                            <td>\r\n                              <button\r\n                                to={`/products/${productDetail.name}`}\r\n                                className=\"btn btn-xs btn-purchase\"\r\n                                title=\"Mua ngay\"\r\n                                onClick={(event) => {\r\n                                  // onClickBuy2(\r\n                                  //   event,\r\n                                  //   productDetail.name,\r\n                                  //   size.sizeNumber,\r\n                                  //   productDetail.price,\r\n                                  //   size.quantity,\r\n                                  //   imagePreview,\r\n                                  //   size.color_Size_ProductId\r\n                                  // );\r\n                                  onClickBuy(\r\n                                    event,\r\n                                    size.color_Size_ProductId,\r\n                                    size.quantity\r\n                                  );\r\n                                }}\r\n                                disabled={\r\n                                  props.AuthToken.isLoggedIn ? false : true\r\n                                }\r\n                              >\r\n                                Mua ngay\r\n                              </button>\r\n                            </td>\r\n                          </tr>\r\n                        ))\r\n                      )}\r\n                  </tbody>\r\n                </table>\r\n\r\n                <div className=\"clear\"></div>\r\n                <div className=\"line\"></div>\r\n                <h6>Màu sắc</h6>\r\n                <ul className=\"preview-thumbnail nav nav-tabs\">\r\n                  {productDetail.colorDTOs.map((color) => (\r\n                    <li\r\n                      key={color.colorId}\r\n                      style={{ borderColor: borderChange }}\r\n                      onClick={() =>\r\n                        chooseColor(color.colorId, color.image, color.name)\r\n                      }\r\n                      // style={{height:\"90%\"}}\r\n                    >\r\n                      <a\r\n                        data-target=\"#pic-1\"\r\n                        value={color.colorId}\r\n                        data-toggle=\"tab\"\r\n                        //onClick={() => chooseColor(color.colorId)}\r\n                      >\r\n                        <img style={{width:\"45px\",height:\"45x\"}} src={color.image} alt=\"color-item\" />\r\n                      </a>\r\n                      <p>{color.name}</p>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n              <div className=\"col-md-3 col-xs-6 pd_policies_wrapper\">\r\n                <div className=\"pd_policies style_2\">\r\n                  <div className=\"pd_policies_title\">\r\n                    <h5>SẼ CÓ TẠI NHÀ BẠN</h5>\r\n                    <span>từ 1-5 ngày làm việc</span>\r\n                  </div>\r\n                  <ul className=\"unstyled\">\r\n                    <li className=\"clearfix\">\r\n                      <a href=\"#\" className=\"PhiVanChuyen\">\r\n                        <img src={pic1} />\r\n                        <div className=\"policies_tit\"> PHÍ VẬN CHUYỂN</div>\r\n                        <div className=\"policies_descrip\"> Trên toàn quốc</div>\r\n                      </a>\r\n                      <div\r\n                        className=\"hinhanhphivanchuyen\"\r\n                        id=\"PhiVanChuyen\"\r\n                        style={{ display: \"none\", marginTop: \"10px\" }}\r\n                      >\r\n                        <img src={pic2} style={{ marginLeft: \"0px\" }} />\r\n                      </div>\r\n                    </li>\r\n                    <li\r\n                      className=\"clearfix\"\r\n                      data-toggle=\"tooltip\"\r\n                      data-placement=\"top\"\r\n                      data-original-title=\"Hỗ trợ dổi trả sản phẩm trong vòng 3 đến 5 ngày, nếu không vừa size, sản phẩm bị lỗi (giữ sản phẩm sạch và chưa qua sử dụng) bạn sẽ đổi hoặc trả sản phẩm mà không tốn phí.\"\r\n                    >\r\n                      <a href=\"#\">\r\n                        <img src={pic2} />\r\n                        <div className=\"policies_tit\"> ĐỔI TRẢ MIỄN PHÍ</div>\r\n                        <div className=\"policies_descrip\">\r\n                          {\" \"}\r\n                          Đổi size, sản phẩm bị lỗi miễn phí trong 3 dến 5 ngày\r\n                        </div>\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      className=\"clearfix\"\r\n                      data-toggle=\"tooltip\"\r\n                      data-placement=\"top\"\r\n                      data-original-title=\"Thanh toán khi nhận hàng, thanh toán online hoặc tại cửa hàng bất kì\"\r\n                    >\r\n                      <a href=\"#\">\r\n                        <img src={pic3} />\r\n                        <div className=\"policies_tit\"> THANH TOÁN</div>\r\n                        <div className=\"policies_descrip\">\r\n                          {\" \"}\r\n                          Thanh toán khi nhận hàng\r\n                        </div>\r\n                      </a>\r\n                    </li>\r\n                    <li\r\n                      className=\"clearfix\"\r\n                      data-toggle=\"tooltip\"\r\n                      data-placement=\"top\"\r\n                      data-original-title=\"Để lại số điện thoại, chúng tôi sẽ gọi lại bạn trong vòng 5 phút\"\r\n                    >\r\n                      <a href=\"#\">\r\n                        <img src={pic4} />\r\n                        <div className=\"policies_tit\"> HỖ TRỢ MUA NHANH</div>\r\n                        <br />\r\n                        <div className=\"policies_descrip\">\r\n                          <strong\r\n                            style={{ color: \"#d61c1f\", fontSize: \"18px\" }}\r\n                          >\r\n                            1900633349\r\n                          </strong>\r\n                          <br />\r\n                          từ 8:30 - 21:30 mỗi ngày\r\n                        </div>\r\n                      </a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <Description description={productDetail.description} />\r\n        </div>\r\n      ) : null}\r\n\r\n      <TotalRating productId={location.state.productId} />\r\n      {localStorage.getItem(\"isLoggedIn\") == \"true\" ? (\r\n        <UserComment productId={location.state.productId} />\r\n      ) : null}\r\n      <CommentBox productId={location.state.productId} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    AuthToken: state.AuthToken,\r\n    carts: state.CartList,\r\n  };\r\n};\r\nconst mapDispatchToPro = (dispatch) => {\r\n  return {\r\n    fetchCart: (carts) => {\r\n      dispatch(getNumberInCart(carts));\r\n    },\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToPro)(ProductDetail);\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAARCAQAAAAbSxYwAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAP+Hj8y/AAAAB3RJTUUH4QIcCBsTUlgCPAAAAgFJREFUOMud0ktoU1EQgOH/nFwl3oVEoTWokW4sSF3UqlAEoRJRqLhSF25UfKQgmhtb3atkpcUk1FdBEKpIBcGFG0VKLUTw0Y0PUAJtRRNFtFrQSGiTOy4S09yYm1ZnNXPO8DGHOYqKCJne+2oTHuaKPEP6aGy8+lhVFt0B+xCInz0sdWHG1E8QxRrS0+uvfHdeGuGTeu2fwgZsQ2fVdvt5bUsdjj8CON6u7y28xq4qTLWzQTSLK0admonN9dK+J1YnI9axxEXXZ0Za8QE+sehwmWxLcTIAq4s+Nieezt5qR29chmVY7rpRzkj084A7J1ZUTRYyzUaAgml4JCixOsJnlZstxKSBNGcX3OrNljHrFeUlyA4VZ/V8JquIH3LTiF9IKYBwp24uUbZKSpJF/4gBTKu9jgVYg6xkHeZ/UADvnAv4QluJEqaw5wHk+FXOm0rYAW84GuknwzYAovmGQouxjFhdaEK2ev06YHdIqnhQwnx+dURC7NcTwHk9Yrz2ZAqjepDbrlRB71S7c9/sSd0lQb7CX59Wegnmm4xnNAJISh+UpAv2kAFuFFMJqwCnqj6tnCNI1pAiBap55q3bYOoFreW8jTHgg+HoiJKWj58yy9+zCoCXlyYjidqYPaRN6SlhjxmXywyoWo3WRq7TwqjaF39TbwPWGboxuLqk57QN8Bs/NZ/4a2xlBAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAYCAQAAADemFyBAAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAP+Hj8y/AAAAB3RJTUUH4QIcCBsUzDyXnwAAApRJREFUOMudlH9IU1EUx7/nbpoa1pYklAQaCEX+lVJaa0UohmbTEEpaPySSQPHNkEqI2p8VonsqWUGgEBJKziATJUpjhVaS/jGNhJAsMwVLyuacu7c/pvMx30Z6/rrnez7ve8+9vHsIqwqpUmzcVGydV2q0KoMS1ALo9eTdmViTRVkObwMDAIyzvOq3S7rmfw1Kk/EM4YtJtDizd6xvcFUWlni8hE4haCk3TX/keTcPYmENjw8bWFAY6MQLxK/AUucMKe3vXGQ5BMx/9F1PWSQ3IhPp2AktZjFMTuFEt37wV5c4GKS9UZhIciGCCsUwMmCEEesCkBm+j1XAHOKM/Vp8RwJABUJSKXsolxXADKBddBIhE1kBxCTlM0wE30Ccx3ZcA8jsOUk9co2cTUeh/K1cLNs2yjAe1OGG+CHuArB7h8Km0HE5GrC147q/zkVB9XuAiUmVj2dZokzMzloQBpDDO4IIcriHpInSRO0DPyXVPAEARl9VLCJ5MkhcwAYAEDGxf/FU7BfNiGF7oqcXmWq5zrdgpNYFwyPpNbWQAW8AOjUaLue4ElgSNHzXTwMAoFVfvgx/AwDxG52oECfg9Nuk8Vf8CitCvojUNRZF3fegnuK0DagH0Os6beVLIFl2i34qtDX40uIYjZ0OKPrxipvUhR58QRONiB04h834zFNrp5YRsuhgQZttYEmwspnD3uN0DHH+i49gLsWLntakVX1Snlr1sZevd+vZFmEiE5LQxG8z/wZwI112BF6cSlTOUhZsNMfNLIrqqFlROhtoEGLkSAY8RmyAeFW+tZIMMbUubfO2IkUh3JMvqnEsuEXVGDPioT/tGC9W50JOrd6FPnvqH6SD8MGT1ejGWkPKsAyUbA1e/weEadoxOVcJJgAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAAYagMeiWXwAAAAJiS0dEAP+Hj8y/AAAAB3RJTUUH4QIcCBsUzDyXnwAAAnJJREFUSMeVlUtIVGEYhp//03HGS1qgXSAI0bIiJmkRaRKIG7EoyAqqTbQc0JpFjrtcNkM1g4sIIXClBYF0E1qIGF1sIzJdXKhIm8ImxdvMNE2d08JxnHPmjEffzYH3/5/3fJzvO/+vsJCnxHGaRmqppAxYZIZxhpOvHqxk71Vmw1v9z6cuU2yRG9X78/zBqQ0CrrnKuvBSQG79UaGF272/LQPaquQptdhrXC6u15EOuHlMH2TXJnCAWdUSGjMEeKu191RsEgeISP1qFQrAW6h/0I9uAQcIy4lgHARA79oyDm69K1VBW5VM4Mi98wCnqMbFW16QyFxIyuHglIDqzI0XcB0PR3Axh5t246JD6wTVsS3xw3JsAAc+ygHQmKQGn7ECiDr3SKIlF664lcLhMzU8MuNQnGjJpylX+WfZCUCMOaqY5pPVpqZ83Nb4bhoBnWeMUMR5+nL0Qt2IpOvMkHAXAQYYYUP9Ekqt/AsI8JU32KhUrNwy6gGNAXS7AISlbPMSAF+I2OIsCdNmz8FBAL7b4zAthM3ePvIA2IvLPiAsDJm9HalnEh9iFzAkzkGiRm/1iJjAzUe0jfGYc1ACyzw2unPAEuWs8Nru/f2BZQG5QzLTnWGZb1QQsGtiUvdDHozO15Vwct3Xecc5nme3x6z73U/SR5o2avwnlP0IheN1PbHUkRaMS6txamzxiLT2xIC1PgWnVDOzdlRas6p57WZINzo0Jg3ZQ2VdvDSs3Qqkhg6A0flDvYUFHM/0sr+8urd49eHPzK9lUvt+OtQViizgOH26v3vSaCqLjXhK8s9Io1arKtkOLOgzMq4N/31pdb3/ByytsgXQmEgLAAAAAElFTkSuQmCC\"","export const formatMoney = (money) => {\n  var sMoney = money.toString();\n  var output = [];\n  for (let index = 0; index < sMoney.length; index++) {\n    output.push(sMoney[index]);\n  }\n  for (let index = output.length - 3; index > 0; index -= 3) {\n    output.splice(index, 0, \".\");\n  }\n  return output;\n};\n"],"sourceRoot":""}